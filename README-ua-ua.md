# –®–æ –∑–∞ –ø—Ä—É—Ç–Ω—è JavaScript?

[![WTFPL 2.0][license-image]][license-url]
[![NPM version][npm-image]][npm-url]

> –°–ø–∏—Å–æ–∫ –≤–µ—Å–µ–ª–∏—Ö —Ç–∞ —Ö–∏—Ç—Ä–æ–º—É–¥—Ä–∏—Ö –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ –∑ JavaScript

JavaScript - —á—É–¥–æ–≤–∞ –º–æ–≤–∞. –í–æ–Ω–∞ –º–∞—î –ø—Ä–æ—Å—Ç–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –≤–µ–ª–∏–∫—É –µ–∫–æ—Å–∏—Å—Ç–µ–º—É —ñ, —â–æ –Ω–∞–π–≥–æ–ª–æ–≤–Ω—ñ—à–µ, –≤–µ–ª–∏–∫—É —Å–ø—ñ–ª—å–Ω–æ—Ç—É.

–£ —Ç–æ–π –∂–µ —á–∞—Å –º–∏ –≤—Å—ñ –∑–Ω–∞—î–º–æ, —â–æ JavaScript - —Ü–µ –¥–æ—Å–∏—Ç—å –≤–µ—Å–µ–ª–∞ –º–æ–≤–∞ –∑ –ø—ñ–¥—Å—Ç—É–ø–Ω–∏–º–∏ –º–æ–º–µ–Ω—Ç–∞–º–∏. –î–µ—è–∫—ñ –∑ –Ω–∏—Ö –º–æ–∂—É—Ç—å —à–≤–∏–¥–∫–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–∞—à—É –ø–æ–≤—Å—è–∫–¥–µ–Ω–Ω—É —Ä–æ–±–æ—Ç—É –≤ –ø–µ–∫–ª–æ, –∞ –¥–µ—è–∫—ñ –∑ –Ω–∏—Ö –º–æ–∂—É—Ç—å –Ω–∞—Å —Ä–æ–∑—Å–º—ñ—à–∏—Ç–∏.

–û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∞ —ñ–¥–µ—è –¥–ª—è WTFJS –Ω–∞–ª–µ–∂–∏—Ç—å [Brian Leroux](https://twitter.com/brianleroux).
–¶–µ–π —Å–ø–∏—Å–æ–∫ –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω–∏–π –π–æ–≥–æ –≤–∏—Å—Ç—É–ø–∞–º–∏ [**‚ÄúWTFJS‚Äù** at dotJS 2012](https://www.youtube.com/watch?v=et8xNAc2ic8):

[![dotJS 2012 - Brian Leroux - WTFJS](https://img.youtube.com/vi/et8xNAc2ic8/0.jpg)](https://www.youtube.com/watch?v=et8xNAc2ic8)

# Node Packaged Manuscript

–í–∏ –º–æ–∂–µ—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Ü–µ–π –¥–æ–≤—ñ–¥–Ω–∏–∫ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `npm`. –ó–∞–ø—É—Å—Ç—ñ—Ç—å:

```
$ npm install -g wtfjs
```

–¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏ `wtfjs` –≤ command line
–í–∏ –ø–æ–≤–∏–Ω–Ω—ñ –º–∞—Ç–∏ –∑–º–æ–≥—É –∑–∞–ø—É—Å—Ç–∏—Ç–∏ `wtfjs` at the command line now. –¶–µ –≤—ñ–¥–∫—Ä–∏—î –ø–æ—Å—ñ–±–Ω–∏–∫ —É –≤–∏–±—Ä–∞–Ω–æ–º—É –≤–∞–º–∏ `$PAGER`. –í —ñ–Ω—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏ —á–∏—Ç–∞—Ç–∏ –¥–∞–ª—ñ.

–î–∂–µ—Ä–µ–ª–æ –¥–æ—Å—Ç—É–ø–Ω–µ —Ç—É—Ç: <https://github.com/denysdovhan/wtfjs>

# –ü–µ—Ä–µ–∫–ª–∞–¥–∏

–ü–æ–∫–∏ —â–æ —ñ—Å–Ω—É—é—Ç—å —Ç–∞–∫—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏ **wtfjs**:

- [‰∏≠ÊñáÁâà](./README-zh-cn.md)
- [Fran√ßais](./README-fr-fr.md)
- [Portugu√™s do Brasil](./README-pt-br.md)
- [Polski](./README-pl-pl.md)
- [–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞](./README-ua-ua.md)

[**–ó–∞–ø–∏—Ç –Ω–∞ —ñ–Ω—à–∏–π –ø–µ—Ä–µ–∫–ª–∞–¥**][tr-request]

[tr-request]: https://github.com/denysdovhan/wtfjs/issues/new?title=Translation%20Request:%20%5BPlease%20enter%20language%20here%5D&body=I%20am%20able%20to%20translate%20this%20language%20%5Byes/no%5D

<!-- prettier-ignore-start -->
<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
# –ó–º—ñ—Å—Ç

- [üí™üèª –ú–æ—Ç–∏–≤–∞—Ü—ñ—è](#-motivation)
- [‚úçüèª –ü—Ä–∏–º—ñ—Ç–∫–∏](#-notation)
- [üëÄ –ü—Ä–∏–∫–ª–∞–¥–∏](#-examples)
  - [`[]`—î —Ä—ñ–≤–Ω–∏–º `![]`](#-is-equal-)
  - [`true` –Ω–µ —î —Ä—ñ–≤–Ω–∏–º `![]`, –∞–ª–µ –Ω–µ —Ä—ñ–≤–Ω–∏–π `[]` —Ç–∞–∫–æ–∂](#true-is-not-equal--but-not-equal--too)
  - [true —î false](#true-is-false)
  - [baNaNa](#banana)
  - [`NaN` –Ω–µ —î `NaN`](#nan-is-not-a-nan)
  - [–¶–µ —Ñ–µ–π–ª](#its-a-fail)
  - [`[]` —î –ø—Ä–∞–≤–¥–∏–≤–∏–º, –∞–ª–µ –Ω–µ `true`](#-is-truthy-but-not-true)
  - [`null` —î —Ö–∏–±–Ω–∏–º, –∞–ª–µ –Ω–µ `false`](#null-is-falsy-but-not-false)
  - [`document.all` —î –æ–±'—î–∫—Ç–æ–º, –∞–ª–µ –≤—ñ–Ω —î undefined](#documentall-is-an-object-but-it-is-undefined)
  - [–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –±—ñ–ª—å—à–µ –Ω—É–ª—è](#minimal-value-is-greater-than-zero)
  - [–§—É–Ω–∫—Ü—ñ—è –Ω–µ —î —Ñ—É–Ω–∫—Ü—ñ—î—é](#function-is-not-a-function)
  - [–î–æ–¥–∞–≤–∞–Ω–Ω—è –º–∞—Å–∏–≤—ñ–≤](#adding-arrays)
  - [–ö—ñ–Ω—Ü–µ–≤—ñ –∫–æ–º–∏](#trailing-commas-in-array)
  - [–†—ñ–≤–Ω—ñ—Å—Ç—å –º–∞—Å–∏–≤—ñ–≤ - —Ü–µ —á—É–¥–æ–≤–∏—Å—å–∫–æ](#array-equality-is-a-monster)
  - [`undefined` —ñ `Number`](#undefined-and-number)
  - [`parseInt` - –ø–æ–≥–∞–Ω–∏–π —Ö–ª–æ–ø–µ—Ü—å](#parseint-is-a-bad-guy)
  - [–û–±—á–∏—Å–ª–µ–Ω–Ω—è –∑ 'true' —ñ 'false'](#math-with-true-and-false)
  - [–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ HTML –¥—ñ–π—Å–Ω—ñ –≤ JavaScript](#html-comments-are-valid-in-javascript)
  - [`NaN` ~~–Ω–µ~~ —î —á–∏—Å–ª–æ–º](#nan-is-not-a-number)
  - [`[]` —ñ `null` - —Ü–µ –æ–±'—î–∫—Ç–∏](#-and-null-are-objects)
  - [–ß–∞—Ä—ñ–≤–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å](#magically-increasing-numbers)
  - [–¢–æ—á–Ω—ñ—Å—Ç—å `0,1 + 0,2`](#precision-of-01--02)
  - [–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —á–∏—Å–µ–ª](#patching-numbers)
  - [–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ç—Ä—å–æ—Ö —á–∏—Å–µ–ª](#comparison-of-three-numbers)
  - [–ö—É–º–µ–¥–Ω—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è](#funny-math)
  - [–î–æ–¥–∞–≤–∞–Ω–Ω—è RegExps](#addition-of-regexps)
  - [–°—Ç—Ä–æ–∫–∏ –Ω–µ —î –µ–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ `String`](#strings-arent-instances-of-string)
  - [Calling functions with backticks](#calling-functions-with-backticks)
  - [Call call call](#call-call-call)
  - [A `constructor` property](#a-constructor-property)
  - [Object as a key of object's property](#object-as-a-key-of-objects-property)
  - [Accessing prototypes with `__proto__`](#accessing-prototypes-with-__proto__)
  - [`` `${{Object}}` ``](#-object-)
  - [Destructuring with default values](#destructuring-with-default-values)
  - [Dots and spreading](#dots-and-spreading)
  - [Labels](#labels)
  - [Nested labels](#nested-labels)
  - [Insidious `try..catch`](#insidious-trycatch)
  - [Is this multiple inheritance?](#is-this-multiple-inheritance)
  - [A generator which yields itself](#a-generator-which-yields-itself)
  - [A class of class](#a-class-of-class)
  - [Non-coercible objects](#non-coercible-objects)
  - [Tricky arrow functions](#tricky-arrow-functions)
  - [Arrow functions can not be a constructor](#arrow-functions-can-not-be-a-constructor)
  - [`arguments` and arrow functions](#arguments-and-arrow-functions)
  - [Tricky return](#tricky-return)
  - [Chaining assignments on object](#chaining-assignments-on-object)
  - [Accessing object properties with arrays](#accessing-object-properties-with-arrays)
  - [Null and Relational Operators](#null-and-relational-operators)
  - [`Number.toFixed()` display different numbers](#numbertofixed-display-different-numbers)
  - [`Math.max()` less than `Math.min()`](#mathmax-less-than-mathmin)
  - [Comparing `null` to `0`](#comparing-null-to-0)
  - [Same variable redeclaration](#same-variable-redeclaration)
  - [Default behavior Array.prototype.sort()](#default-behavior-arrayprototypesort)
  - [resolve() won't return Promise instance](#resolve-wont-return-promise-instance)
- [üìö Other resources](#-other-resources)
- [üéì License](#-license)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->
<!-- prettier-ignore-end -->

# üí™üèª Motivation

> –ó–∞–¥–ª—è —Ä–æ–∑–≤–∞–≥–∏
>
> &mdash; _[**‚ÄúJust for Fun: The Story of an Accidental Revolutionary‚Äù**](https://en.wikipedia.org/wiki/Just_for_Fun), Linus Torvalds_

–û—Å–Ω–æ–≤–Ω–∞ –º–µ—Ç–∞ —Ü—å–æ–≥–æ —Å–ø–∏—Å–∫—É - –∑—ñ–±—Ä–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –±–æ–∂–µ–≤—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ —ñ –ø–æ—è—Å–Ω–∏—Ç–∏, —è–∫ –≤–æ–Ω–∏ –ø—Ä–∞—Ü—é—é—Ç—å, —è–∫—â–æ —Ü–µ –º–æ–∂–ª–∏–≤–æ. –ü—Ä–æ—Å—Ç–æ —Ç–æ–º—É, —â–æ —Ü—ñ–∫–∞–≤–æ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è —â–æ—Å—å –Ω–æ–≤–µ.

–Ø–∫—â–æ –≤–∏ –Ω–æ–≤–∞—á–æ–∫, –≤–∏ –º–æ–∂–µ—Ç–µ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—è —Ü–∏–º–∏ –Ω–æ—Ç–∞—Ç–∫–∞–º–∏, —â–æ–± –≥–ª–∏–±—à–µ –∑–∞–Ω—É—Ä–∏—Ç–∏—Å—è –≤ JavaScript. –°–ø–æ–¥—ñ–≤–∞—é—Å—è, —Ü—ñ –Ω–æ—Ç–∞—Ç–∫–∏ –∑–º–æ—Ç–∏–≤—É—é—Ç—å –≤–∞—Å –≤–∏—Ç—Ä–∞—Ç–∏—Ç–∏ –±—ñ–ª—å—à–µ —á–∞—Å—É –Ω–∞ —á–∏—Ç–∞–Ω–Ω—è —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.

–Ø–∫—â–æ –≤–∏ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π —Ä–æ–∑—Ä–æ–±–Ω–∏–∫, –≤–∏ –º–æ–∂–µ—Ç–µ —Ä–æ–∑–≥–ª—è–Ω—É—Ç–∏ —Ü—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ —è–∫ —á—É–¥–æ–≤–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤—Å—ñ —Ö–∏–º–µ—Ä–Ω–æ—Å—Ç—ñ —Ç–∞ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω—ñ –≤–∏–Ω—è—Ç–∫–∏ –Ω–∞—à–æ–≥–æ —É–ª—é–±–ª–µ–Ω–æ–≥–æ JavaScript.

–£ –±—É–¥—å-—è–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É, –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ —Ü–µ. –í–∏, –º–∞–±—É—Ç—å, –∑–Ω–∞–π–¥–µ—Ç–µ —â–æ—Å—å –Ω–æ–≤–µ.

# ‚úçüèª –ü—Ä–∏–º—ñ—Ç–∫–∏

**`// ->`** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –≤–∏—Ä–∞–∑—É. –ù–∞–ø—Ä–∏–∫–ª–∞–¥:

```js
1 + 1; // -> 2
```

**`// >`** –æ–∑–Ω–∞—á–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç `console.log` –∞–±–æ —ñ–Ω—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ù–∞–ø—Ä–∏–∫–ª–∞–¥:

```js
console.log("hello, world!"); // > hello, world!
```

**`//`** —Ü–µ –ø—Ä–æ—Å—Ç–æ –∫–æ–º–µ–Ω—Ç–∞—Ä, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–æ—è—Å–Ω–µ–Ω—å. –ü—Ä–∏–∫–ª–∞–¥:

```js
// Assigning a function to foo constant
const foo = function () {};
```

# üëÄ –ü—Ä–∏–∫–ª–∞–¥–∏

## `[]` is equal `![]`

–ú–∞—Å–∏–≤ –¥–æ—Ä—ñ–≤–Ω—é—î –Ω–µ –º–∞—Å–∏–≤—É:

```js
[] == ![]; // -> true
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–û–ø–µ—Ä–∞—Ç–æ—Ä –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ—ó —Ä—ñ–≤–Ω–æ—Å—Ç—ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –æ–±–∏–¥–≤—ñ —Å—Ç–æ—Ä–æ–Ω–∏ –Ω–∞ —á–∏—Å–ª–∞, —â–æ–± –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ —ó—Ö, —ñ –æ–±–∏–¥–≤—ñ —Å—Ç–æ—Ä–æ–Ω–∏ —Å—Ç–∞—é—Ç—å —á–∏—Å–ª–æ–º "0" –∑ —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–∏—á–∏–Ω. –ú–∞—Å–∏–≤–∏ —î —ñ—Å—Ç–∏–Ω–Ω–∏–º–∏, —Ç–æ–∂ –ø—Ä–∞–≤–æ—Ä—É—á, –ø—Ä–æ—Ç–∏–ª–µ–∂–Ω–∏–º –¥–æ —ñ—Å—Ç–∏–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è —î `false ', —è–∫–µ –ø–æ—Ç—ñ–º –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–µ –¥–æ` 0'. –û–¥–Ω–∞–∫ –ª—ñ–≤–æ—Ä—É—á –ø–æ—Ä–æ–∂–Ω—ñ–π –º–∞—Å–∏–≤ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–æ —á–∏—Å–ª–∞, –Ω–µ —Å—Ç–∞—é—á–∏ —Å–ø–æ—á–∞—Ç–∫—É –±—É–ª–µ–≤–∏–º, –∞ –ø–æ—Ä–æ–∂–Ω—ñ –º–∞—Å–∏–≤–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω—ñ –¥–æ "0", –Ω–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ –Ω–µ–ø—Ä–∞–≤–¥–∏–≤—ñ—Å—Ç—å.

–û—Å—å —è–∫ —Ü–µ–π –≤–∏—Ä–∞–∑ —Å–ø—Ä–æ—â—É—î:

```js
+[] == +![];
0 == +false;
0 == 0;
true;
```

–î–∏–≤—ñ—Ç—å—Å—è —Ç–∞–∫–æ–∂ [`[]` —î –ø—Ä–∞–≤–¥–∏–≤–∏–º, –∞–ª–µ –Ω–µ `true`](#-is-truthy-but-not-true).

- [**12.5.9** Logical NOT Operator (`!`)](https://www.ecma-international.org/ecma-262/#sec-logical-not-operator)
- [**7.2.13** Abstract Equality Comparison](https://www.ecma-international.org/ecma-262/#sec-abstract-equality-comparison)

## `true` –Ω–µ —î —Ä—ñ–≤–Ω–∏–º `![]`, –∞–ª–µ –Ω–µ —Ä—ñ–≤–Ω–∏–π `[]` —Ç–∞–∫–æ–∂

–ú–∞—Å–∏–≤ –Ω–µ –¥–æ—Ä—ñ–≤–Ω—é—î `true`, –∞–ª–µ –Ω–µ Array –Ω–µ –¥–æ—Ä—ñ–≤–Ω—é—î` true`;
–ú–∞—Å–∏–≤ –¥–æ—Ä—ñ–≤–Ω—é—î `false`, –Ω–µ Array —Ç–∞–∫–æ–∂ –¥–æ—Ä—ñ–≤–Ω—é—î` false`:

```js
true == []; // -> false
true == ![]; // -> false

false == []; // -> true
false == ![]; // -> true
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

```js
true == []; // -> false
true == ![]; // -> false

// –í—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

true == []; // -> false

toNumber(true); // -> 1
toNumber([]); // -> 0

1 == 0; // -> false

true == ![]; // -> false

![]; // -> false

true == false; // -> false
```

```js
false == []; // -> true
false == ![]; // -> true

// –í—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

false == []; // -> true

toNumber(false); // -> 0
toNumber([]); // -> 0

0 == 0; // -> true

false == ![]; // -> true

![]; // -> false

false == false; // -> true
```

- [**7.2.13** Abstract Equality Comparison](https://www.ecma-international.org/ecma-262/#sec-abstract-equality-comparison)

## true —î false

```js
!!"false" == !!"true"; // -> true
!!"false" === !!"true"; // -> true
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–†–æ–∑–≥–ª—è–Ω–µ–º–æ —Ü–µ –∫—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º:

```js
// true - —Ü–µ `–ø—Ä–∞–≤–¥–∏–≤–æ' —ñ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è–º 1 (—á–∏—Å–ª–æ), `true ' —É —Ñ–æ—Ä–º—ñ —Å—Ç—Ä–æ–∫–∏ - NaN.
true == "true"; // -> false
false == "false"; // -> false

// 'false' - —Ü–µ –Ω–µ –ø–æ—Ä–æ–∂–Ω—è —Å—Ç—Ä–æ–∫–∞, —Ç–æ–º—É —Ü–µ –ø—Ä–∞–≤–¥–∏–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è
!!"false"; // -> true
!!"true"; // -> true
```

- [**7.2.13** Abstract Equality Comparison](https://www.ecma-international.org/ecma-262/#sec-abstract-equality-comparison)

## baNaNa

```js
"b" + "a" + +"a" + "a"; // -> 'baNaNa'
```

–¶–µ –∂–∞—Ä—Ç —Å—Ç–∞—Ä–æ—ó —à–∫–æ–ª–∏ –≤ JavaScript, –∞–ª–µ –ø–µ—Ä–µ—Ä–æ–±–ª–µ–Ω–∏–π. –û—Å—å –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π:

```js
"foo" + +"bar"; // -> 'fooNaN'
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–í–∏—Ä–∞–∑ –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è —è–∫ ``foo '+ (+' bar ')`, —â–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î' bar '—É –Ω–µ —á–∏—Å–ª–æ.

- [**12.8.3** The Addition Operator (`+`)](https://www.ecma-international.org/ecma-262/#sec-addition-operator-plus)
- [12.5.6 Unary + Operator](https://www.ecma-international.org/ecma-262/#sec-unary-plus-operator)

## `NaN` –Ω–µ —î `NaN`

```js
NaN === NaN; // -> false
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–°–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á—ñ—Ç–∫–æ –≤–∏–∑–Ω–∞—á–∞—î –ª–æ–≥—ñ–∫—É —Ç–∞–∫–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏:

> 1. –Ø–∫—â–æ `Type (x)` –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ `Type (y)`, –ø–æ–≤–µ—Ä–Ω—ñ—Ç—å **false**.
> 2. –Ø–∫—â–æ `Type (x)` –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è Number, —Ç–æ–¥—ñ
>    1. –Ø–∫—â–æ `x` - ** NaN **, –ø–æ–≤–µ—Ä–Ω—ñ—Ç—å ** false **.
>    2. –Ø–∫—â–æ `y` - ** NaN **, –ø–æ–≤–µ—Ä–Ω—ñ—Ç—å ** false **.
>    3. ‚Ä¶ ‚Ä¶ ‚Ä¶
>
> &mdash; [**7.2.14** Strict Equality Comparison](https://www.ecma-international.org/ecma-262/#sec-strict-equality-comparison)

–î–æ—Ç—Ä–∏–º—É—é—á–∏—Å—å –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è `NaN` –∑ IEEE:

> –ú–æ–∂–ª–∏–≤—ñ —á–æ—Ç–∏—Ä–∏ –≤–∑–∞—î–º–æ–≤–∏–∫–ª—é—á–Ω—ñ –≤—ñ–¥–Ω–æ—Å–∏–Ω–∏: –º–µ–Ω—à–µ, —Ä—ñ–≤–Ω–µ, –±—ñ–ª—å—à–µ —ñ –Ω–µ–≤–ø–æ—Ä—è–¥–∫–æ–≤–∞–Ω–µ. –û—Å—Ç–∞–Ω–Ω—ñ–π –≤–∏–ø–∞–¥–æ–∫ –≤–∏–Ω–∏–∫–∞—î, –∫–æ–ª–∏ –ø—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–Ω–∏–º –æ–ø–µ—Ä–∞–Ω–¥–æ–º —î NaN. –ö–æ–∂–µ–Ω NaN –ø–æ–≤–∏–Ω–µ–Ω –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –Ω–µ –≤–ø–æ—Ä—è–¥–∫–æ–≤–∞–Ω–µ –∑ —É—Å—ñ–º–∞, –≤–∫–ª—é—á–∞—é—á–∏ —Å–∞–º–æ–≥–æ —Å–µ–±–µ.
>
> &mdash; [‚ÄúWhat is the rationale for all comparisons returning false for IEEE754 NaN values?‚Äù](https://stackoverflow.com/questions/1565164/1573715#1573715) –Ω–∞ StackOverflow

## –¶–µ "—Ñ–µ–π–ª"

–í–∏ –± –Ω–µ –ø–æ–≤—ñ—Ä–∏–ª–∏, –∞–ª–µ ‚Ä¶

```js
(![] + [])[+[]] +
  (![] + [])[+!+[]] +
  ([![]] + [][[]])[+!+[] + [+[]]] +
  (![] + [])[!+[] + !+[]];
// -> 'fail'
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–†–æ–∑–±–∏–≤–∞—é—á–∏ —Ü—é –º–∞—Å—É —Å–∏–º–≤–æ–ª—ñ–≤ –Ω–∞ —á–∞—Å—Ç–∏–Ω–∏, –º–∏ –ø–æ–º—ñ—á–∞—î–º–æ, —â–æ —á–∞—Å—Ç–æ —Ç—Ä–∞–ø–ª—è—î—Ç—å—Å—è —Ç–∞–∫–∏–π —à–∞–±–ª–æ–Ω:

```js
![] + []; // -> 'false'
![]; // -> false
```

–¢–æ–º—É –º–∏ –Ω–∞–º–∞–≥–∞—î–º–æ—Å—å –¥–æ–¥–∞—Ç–∏ `[]` –¥–æ `false`. –ê–ª–µ —á–µ—Ä–µ–∑ –Ω–∏–∑–∫—É –≤–∏–∫–ª–∏–∫—ñ–≤ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π (`binary + Operator` ->` ToPrimitive` -> `[[DefaultValue]]`) –º–∏ –≤ –ø—ñ–¥—Å—É–º–∫—É –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ –ø—Ä–∞–≤–∏–π –æ–ø–µ—Ä–∞–Ω–¥ —É —Ä—è–¥–æ–∫:

```js
![] + [].toString(); // 'false'
```

–î—É–º–∞—é—á–∏ –ø—Ä–æ —Ä—è–¥–æ–∫ —è–∫ –ø—Ä–æ –º–∞—Å–∏–≤, –º–∏ –º–æ–∂–µ–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –π–æ–≥–æ –ø–µ—Ä—à–æ–≥–æ —Å–∏–º–≤–æ–ª—É —á–µ—Ä–µ–∑ `[0]`:

```js
"false"[0]; // -> 'f'
```

–†–µ—à—Ç–∞ –æ—á–µ–≤–∏–¥–Ω–æ, –∞–ª–µ `i` —Ö–∏—Ç—Ä–µ. –ó–Ω–∞—á–µ–Ω–Ω—è `i` –≤` fail` –∑–∞—Ö–æ–ø–ª—é—î—Ç—å—Å—è —à–ª—è—Ö–æ–º –≥–µ–Ω–µ—Ä—É–≤–∞–Ω–Ω—è —Ä—è–¥–∫–∞ `` falseundefined` —Ç–∞ –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç–∞ –∑–∞ —ñ–Ω–¥–µ–∫—Å–æ–º `['10']`

## `[]` –ø—Ä–∞–≤–¥–∏–≤–µ, –∞–ª–µ –Ω–µ `true`

–ú–∞—Å–∏–≤ - —Ü–µ –ø—Ä–∞–≤–¥–∏–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è, –æ–¥–Ω–∞–∫ –≤–æ–Ω–æ –Ω–µ –¥–æ—Ä—ñ–≤–Ω—é—î `true`.

```js
!![]       // -> true
[] == true // -> false
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–û—Å—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —Ä–æ–∑–¥—ñ–ª–∏ –≤ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó ECMA-262:

- [**12.5.9** Logical NOT Operator (`!`)](https://www.ecma-international.org/ecma-262/#sec-logical-not-operator)
- [**7.2.13** Abstract Equality Comparison](https://www.ecma-international.org/ecma-262/#sec-abstract-equality-comparison)

## `null` —î —Ö–∏–±–Ω–µ, –∞–ª–µ –Ω–µ `false`

–ù–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ —Ç–µ, —â–æ `null` - —Ü–µ —Ö–∏–±–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è, –≤–æ–Ω–æ –Ω–µ –¥–æ—Ä—ñ–≤–Ω—é—î` false '.

```js
!!null; // -> false
null == false; // -> false
```

–£ —Ç–æ–π –∂–µ —á–∞—Å —ñ–Ω—à—ñ —Ö–∏–±–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `0` –∞–±–æ `''`, –¥–æ—Ä—ñ–≤–Ω—é—é—Ç—å `false`.

```js
0 == false; // -> true
"" == false; // -> true
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–ü–æ—è—Å–Ω–µ–Ω–Ω—è —Ç–∞–∫–µ –∂, —è–∫ —ñ –≤ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ. –û—Å—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:

- [**7.2.13** Abstract Equality Comparison](https://www.ecma-international.org/ecma-262/#sec-abstract-equality-comparison)

## `document.all` —î –æ–±‚Äô—î–∫—Ç–æ–º, –∞–ª–µ –≤—ñ–Ω —î undefined

> ‚ö†Ô∏è –¶–µ —á–∞—Å—Ç–∏–Ω–∞ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ API —ñ –Ω–µ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ Node.js ‚ö†Ô∏è

–ù–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ —Ç–µ, —â–æ `document.all` —î –ø–æ–¥—ñ–±–Ω–∏–º –¥–æ –º–∞—Å–∏–≤—É –æ–±'—î–∫—Ç–æ–º —ñ –Ω–∞–¥–∞—î –¥–æ—Å—Ç—É–ø –¥–æ DOM-–≤—É–∑–ª—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ, –≤—ñ–Ω —Ä–µ–∞–≥—É—î –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—é` typeof` —è–∫ `undefined`.

```js
document.all instanceof Object; // -> true
typeof document.all; // -> 'undefined'
```

–£ —Ç–æ–π –∂–µ —á–∞—Å, `document.all` –Ω–µ –¥–æ—Ä—ñ–≤–Ω—é—î` undefined`.

```js
document.all === undefined; // -> false
document.all === null; // -> false
```

–ê–ª–µ –≤ —Ç–æ–π –∂–µ —á–∞—Å:

```js
document.all == null; // -> true
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

> `document.all` —Ä–∞–Ω—ñ—à–µ –±—É–≤ —Å–ø–æ—Å–æ–±–æ–º –¥–æ—Å—Ç—É–ø—É –¥–æ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ DOM, –∑–æ–∫—Ä–µ–º–∞ –∑—ñ —Å—Ç–∞—Ä–∏–º–∏ –≤–µ—Ä—Å—ñ—è–º–∏ IE. –•–æ—á–∞ —Ü–µ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –±—É–ª–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º, –≤–æ–Ω–æ —à–∏—Ä–æ–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–æ—Å—å —É —Å—Ç–∞—Ä–æ–≤–∏–Ω–Ω–æ–º—É –∫–æ–¥—ñ JS. –ö–æ–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –ø—Ä–æ–≥—Ä–µ—Å—É–≤–∞–≤ —ñ–∑ –Ω–æ–≤–∏–º–∏ API (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `document.getElementById`), —Ü–µ–π –≤–∏–∫–ª–∏–∫ API –∑–∞—Å—Ç–∞—Ä—ñ–≤, —ñ –∫–æ–º—ñ—Ç–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –ø–æ–≤–∏–Ω–µ–Ω –±—É–≤ –≤–∏—Ä—ñ—à–∏—Ç–∏, —â–æ –∑ –Ω–∏–º —Ä–æ–±–∏—Ç–∏. –ß–µ—Ä–µ–∑ –π–æ–≥–æ —à–∏—Ä–æ–∫–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤–æ–Ω–∏ –≤–∏—Ä—ñ—à–∏–ª–∏ –∑–±–µ—Ä–µ–≥—Ç–∏ API, –∞–ª–µ –≤–≤–µ—Å—Ç–∏ –Ω–∞–≤–º–∏—Å–Ω–µ –ø–æ—Ä—É—à–µ–Ω–Ω—è —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó JavaScript.

> –ü—Ä–∏—á–∏–Ω–∞, –ø–æ —è–∫—ñ–π –≤—ñ–Ω –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ `false` –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ [Strict Equality Comparison](https://www.ecma-international.org/ecma-262/#sec-strict-equality-comparison) –∑ `undefined`, –∞ `true` –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ [Abstract Equality Comparison](https://www.ecma-international.org/ecma-262/#sec-abstract-equality-comparison) –ø–æ–≤‚Äô—è–∑–∞–Ω–æ –∑ –Ω–∞–≤–º–∏—Å–Ω–∏–º –ø–æ—Ä—É—à–µ–Ω–Ω—è–º —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, —è–∫–∞ –ø—Ä—è–º–æ —Ü–µ –¥–æ–∑–≤–æ–ª—è—î.
>
> &mdash; [‚ÄúObsolete features - document.all‚Äù](https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-all) at WhatWG - HTML spec
> &mdash; [‚ÄúChapter 4 - ToBoolean - Falsy values‚Äù](https://github.com/getify/You-Dont-Know-JS/blob/0d79079b61dad953bbfde817a5893a49f7e889fb/types%20%26%20grammar/ch4.md#falsy-objects) at YDKJS - Types & Grammar

## –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –±—ñ–ª—å—à–µ –Ω—É–ª—è

`Number.MIN_VALUE` - –Ω–∞–π–º–µ–Ω—à–µ —á–∏—Å–ª–æ, —è–∫–µ –±—ñ–ª—å—à–µ –Ω—É–ª—è:

```js
Number.MIN_VALUE > 0; // -> true
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

> `Number.MIN_VALUE` –¥–æ—Ä—ñ–≤–Ω—é—î` 5e-324`, —Ç–æ–±—Ç–æ –Ω–∞–π–º–µ–Ω—à–µ –¥–æ–¥–∞—Ç–Ω–µ —á–∏—Å–ª–æ, —è–∫–µ –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–µ –≤ —Ç–æ—á–Ω–æ—Å—Ç—ñ –∑ –ø–ª–∞–≤–∞—é—á–æ—é —Ç–æ—á–∫–æ—é, —Ç–æ–±—Ç–æ —Ü–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–ª–∏–∑—å–∫–æ, –Ω–∞—Å–∫—ñ–ª—å–∫–∏ –≤–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–±–ª–∏–∑–∏—Ç–∏—Å—å –¥–æ –Ω—É–ª—è. –í—ñ–Ω –≤–∏–∑–Ω–∞—á–∞—î –Ω–∞–π–∫—Ä–∞—â—É —Ä–æ–∑–¥—ñ–ª—å–Ω—É –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å, —è–∫—É –≤–∞–º –º–æ–∂—É—Ç—å –¥–∞—Ç–∏ –ø–ª–∞–≤–∞—é—á—ñ —á–∏—Å–ª–∞.
>
> –£ –¥–∞–Ω–∏–π –º–æ–º–µ–Ω—Ç—ñ –∑–∞–≥–∞–ª—å–Ω–∏–º –Ω–∞–π–º–µ–Ω—à–∏–º –∑–Ω–∞—á–µ–Ω–Ω—è–º —î `Number.NEGATIVE_INFINITY`, —Ö–æ—á–∞ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –≤–æ–Ω–æ –Ω–µ —î —á–∏—Å–ª–æ–≤–∏–º —É "strict" —Å–µ–Ω—Å—ñ.
>
> &mdash; [‚ÄúWhy is `0` less than `Number.MIN_VALUE` in JavaScript?‚Äù](https://stackoverflow.com/questions/26614728/why-is-0-less-than-number-min-value-in-javascript) at StackOverflow

- [**20.1.2.9** Number.MIN_VALUE](https://www.ecma-international.org/ecma-262/#sec-number.min_value)

## –§—É–Ω–∫—Ü—ñ—è –Ω–µ —î —Ñ—É–Ω–∫—Ü—ñ—î—é

> ‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞, –Ω–∞—è–≤–Ω–∞ —É V8 v5.5 –∞–±–æ –Ω–∏–∂—á–µ (Node.js <= 7) ‚ö†Ô∏è

–í—Å—ñ –≤–∏ –∑–Ω–∞—î—Ç–µ –ø—Ä–æ –Ω–∞–¥–æ–∫—É—á–ª–∏–≤–∏–π _undefined –Ω–µ —î —Ñ—É–Ω–∫—Ü—ñ—î—é_, –∞ —â–æ –Ω–∞ —Ä–∞—Ö—É–Ω–æ–∫ —Ü—å–æ–≥–æ?

```js
// Declare a class which extends null
class Foo extends null {}
// -> [Function: Foo]

new Foo() instanceof null;
// > TypeError: function is not a function
// >     at ‚Ä¶ ‚Ä¶ ‚Ä¶
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–¶–µ –Ω–µ —î —á–∞—Å—Ç–∏–Ω–æ—é —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –¶–µ –ª–∏—à–µ –ø–æ–º–∏–ª–∫–∞, —è–∫—É –∑–∞—Ä–∞–∑ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ, —Ç–æ–º—É –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É –∑ –Ω–µ—é –Ω–µ –ø–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º.

## –î–æ–¥–∞–≤–∞–Ω–Ω—è –º–∞—Å–∏–≤—ñ–≤

–©–æ –±—É–¥–µ, —è–∫—â–æ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–∏ –¥–≤–∞ –º–∞—Å–∏–≤–∏?

```js
[1, 2, 3] + [4, 5, 6]; // -> '1,2,34,5,6'
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–í—ñ–¥–±—É–¥–µ—Ç—å—Å—è –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü—ñ—è. –ü–æ–∫—Ä–æ–∫–æ–≤–æ —Ü–µ –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫:

```js
[1, 2, 3] +
  [4, 5, 6][
    // call toString()
    (1, 2, 3)
  ].toString() +
  [4, 5, 6].toString();
// concatenation
"1,2,3" + "4,5,6";
// ->
("1,2,34,5,6");
```

## –ö—ñ–Ω—Ü–µ–≤—ñ –∫–æ–º–∏

–í–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ –º–∞—Å–∏–≤ —ñ–∑ 4 –ø–æ—Ä–æ–∂–Ω—ñ–º–∏ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏. –ù–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ –≤—Å–µ, –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –º–∞—Å–∏–≤ —ñ–∑ —Ç—Ä—å–æ–º–∞ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∏, —â–æ –∑–∞–º–∏–∫–∞—é—Ç—å—Å—è:

```js
let a = [, , ,];
a.length; // -> 3
a.toString(); // -> ',,'
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

> **–ö—ñ–Ω—Ü–µ–≤—ñ –∫–æ–º–∏** (—ñ–Ω–æ–¥—ñ —ó—Ö –Ω–∞–∑–∏–≤–∞—é—Ç—å "–∑–∞–∫–ª—é—á–Ω–∏–º–∏ –∫–æ–º–∞–º–∏") –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∫–æ—Ä–∏—Å–Ω–∏–º–∏ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —á–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π —É –∫–æ–¥—ñ JavaScript. –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å, –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ä—è–¥–æ–∫, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –ø–µ—Ä–µ–¥ —Ü–∏–º –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Ä—è–¥–æ–∫, —è–∫—â–æ —Ü–µ–π —Ä—è–¥–æ–∫ –≤–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫—ñ–Ω—Ü–µ–≤—É –∫–æ–º—É. –¶–µ —Ä–æ–±–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å—ñ–π –∑—Ä–æ–∑—É–º—ñ–ª—ñ—à–∏–º, –∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–æ–¥—É –º–æ–∂–µ –±—É—Ç–∏ –º–µ–Ω—à –ø—Ä–æ–±–ª–µ–º–Ω–∏–º.
>
> &mdash; [–ö—ñ–Ω—Ü–µ–≤—ñ –∫–æ–º–∏](https://developer.mozilla.org/uk/docs/Web/JavaScript/Reference/Trailing_commas) at MDN

## –†—ñ–≤–Ω—ñ—Å—Ç—å –º–∞—Å–∏–≤—ñ–≤ - —Ü–µ —á—É–¥–æ–≤–∏—Å—å–∫–æ –≤ JS

–†—ñ–≤–Ω—ñ—Å—Ç—å –º–∞—Å–∏–≤—ñ–≤ - —Ü–µ —á—É–¥–æ–≤–∏—Å—å–∫–æ –≤ JS, —è–∫ –≤–∏ –º–æ–∂–µ—Ç–µ –±–∞—á–∏—Ç–∏ –Ω–∏–∂—á–µ:

```js
[] == ''   // -> true
[] == 0    // -> true
[''] == '' // -> true
[0] == 0   // -> true
[0] == ''  // -> false
[''] == 0  // -> true

[null] == ''      // true
[null] == 0       // true
[undefined] == '' // true
[undefined] == 0  // true

[[]] == 0  // true
[[]] == '' // true

[[[[[[]]]]]] == '' // true
[[[[[[]]]]]] == 0  // true

[[[[[[ null ]]]]]] == 0  // true
[[[[[[ null ]]]]]] == '' // true

[[[[[[ undefined ]]]]]] == 0  // true
[[[[[[ undefined ]]]]]] == '' // true
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–°–ª—ñ–¥ —É–≤–∞–∂–Ω–æ —Å—Ç–µ–∂–∏—Ç–∏ –∑–∞ –Ω–∞–≤–µ–¥–µ–Ω–∏–º–∏ –≤–∏—â–µ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏! –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ –æ–ø–∏—Å–∞–Ω–∞ –≤ —Ä–æ–∑–¥—ñ–ª—ñ [**7.2.13** Abstract Equality Comparison](https://www.ecma-international.org/ecma-262/#sec-abstract-equality-comparison) —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.

## `undefined` —ñ `Number`

–Ø–∫—â–æ –º–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–º–æ –∂–æ–¥–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç—É –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Number`, –º–∏ –æ—Ç—Ä–∏–º–∞—î–º–æ` 0`. –ó–Ω–∞—á–µ–Ω–Ω—è `undefined` –ø—Ä–∏—Å–≤–æ—é—î—Ç—å—Å—è —Ñ–æ—Ä–º–∞–ª—å–Ω–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º, –∫–æ–ª–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ —Ñ–∞–∫—Ç–∏—á–Ω—ñ –∞—Ä–≥—É–º–µ–Ω—Ç–∏, —Ç–æ–º—É –≤–∏ –º–æ–∂–µ—Ç–µ –æ—á—ñ–∫—É–≤–∞—Ç–∏, —â–æ `Number` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ –±–µ—Ä–µ –∑–Ω–∞—á–µ–Ω–Ω—è `undefined` —è–∫ –∑–Ω–∞—á–µ–Ω–Ω—è —Å–≤–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞. –û–¥–Ω–∞–∫, –∫–æ–ª–∏ –º–∏ –ø–µ—Ä–µ–¥–∞—î–º–æ `undefined`, –º–∏ –æ—Ç—Ä–∏–º–∞—î–º–æ `NaN`.

```js
Number(); // -> 0
Number(undefined); // -> NaN
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–í—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:

1. –Ø–∫—â–æ –¥–æ –≤–∏–∫–ª–∏–∫—É —Ü—ñ—î—ó —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–µ –±—É–ª–æ –ø–µ—Ä–µ–¥–∞–Ω–æ –∂–æ–¥–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç—É, –Ω–µ—Ö–∞–π `n` –±—É–¥–µ `+0`.
2. –í —ñ–Ω—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –Ω–µ—Ö–∞–π –±—É–¥–µ `n`? `ToNumber (–∑–Ω–∞—á–µ–Ω–Ω—è)`.
3. –£ —Ä–∞–∑—ñ `undefined`,`ToNumber (undefined)`–ø–æ–≤–∏–Ω–µ–Ω –ø–æ–≤–µ—Ä–Ω—É—Ç–∏` NaN`.

–û—Å—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Ä–æ–∑–¥—ñ–ª:

- [**20.1.1** The Number Constructor](https://www.ecma-international.org/ecma-262/#sec-number-constructor)
- [**7.1.3** ToNumber(`argument`)](https://www.ecma-international.org/ecma-262/#sec-tonumber)

## `parseInt` - –ø–æ–≥–∞–Ω–∏–π —Ö–ª–æ–ø–µ—Ü—å

`parseInt` –≤—ñ–¥–æ–º–∏–π —Å–≤–æ—ó–º–∏ —Ö–∏–º–µ—Ä–Ω–æ—Å—Ç—è–º–∏:

```js
parseInt("f*ck"); // -> NaN
parseInt("f*ck", 16); // -> 15
```

**üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:** –¶–µ —Ç—Ä–∞–ø–ª—è—î—Ç—å—Å—è —Ç–æ–º—É, —â–æ `parseInt` –±—É–¥–µ –ø—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–∏–π —Ä–æ–∑–±—ñ—Ä —Å–∏–º–≤–æ–ª—ñ–≤ –∑–∞ —Å–∏–º–≤–æ–ª–æ–º, –ø–æ–∫–∏ –Ω–µ –ø–æ—Ç—Ä–∞–ø–∏—Ç—å –Ω–∞ —Å–∏–º–≤–æ–ª, –≤—ñ–Ω –Ω–µ –∑–Ω–∞—î. `f` —É `'f*ck'` - —à—ñ—Å—Ç–Ω–∞–¥—Ü—è—Ç–∫–æ–≤–∞ —Ü–∏—Ñ—Ä–∞ `15`.

–†–æ–∑–±—ñ—Ä `Infinity` –¥–æ —Ü—ñ–ª–æ–≥–æ —á–∏—Å–ª–∞ - —Ü–µ —â–æ—Å—å ...

```js
//
parseInt("Infinity", 10); // -> NaN
// ...
parseInt("Infinity", 18); // -> NaN...
parseInt("Infinity", 19); // -> 18
// ...
parseInt("Infinity", 23); // -> 18...
parseInt("Infinity", 24); // -> 151176378
// ...
parseInt("Infinity", 29); // -> 385849803
parseInt("Infinity", 30); // -> 13693557269
// ...
parseInt("Infinity", 34); // -> 28872273981
parseInt("Infinity", 35); // -> 1201203301724
parseInt("Infinity", 36); // -> 1461559270678...
parseInt("Infinity", 37); // -> NaN
```

–ë—É–¥—å—Ç–µ –æ–±–µ—Ä–µ–∂–Ω—ñ –∑ —Ä–æ–∑–±–æ—Ä–æ–º `null`:

```js
parseInt(null, 24); // -> 23
```

**üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:**

> –¶–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è `null` —É —Ä—è–¥–æ–∫` null` —Ç–∞ —Å–ø—Ä–æ–±–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ. –î–ª—è –∫–æ—Ä—ñ–Ω—å—ñ–≤ –≤—ñ–¥ 0 –¥–æ 23 –Ω–µ–º–∞—î —Ü–∏—Ñ—Ä, —è–∫—ñ –≤—ñ–Ω –º–æ–∂–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏, —Ç–æ–º—É –≤—ñ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î NaN. –ù–∞ 24, –¥–æ —Å–∏—Å—Ç–µ–º–∏ —á–∏—Å–ª–µ–Ω–Ω—è –¥–æ–¥–∞—î—Ç—å—Å—è `"n"`, 14-—Ç–∞ –±—É–∫–≤–∞. –£ 31 –¥–æ–¥–∞—î—Ç—å—Å—è `"u"`, 21-–∞ –±—É–∫–≤–∞, —ñ –≤–µ—Å—å —Ä—è–¥–æ–∫ –º–æ–∂–µ –±—É—Ç–∏ –¥–µ–∫–æ–¥–æ–≤–∞–Ω–∏–π. –ù–∞ 37 –¥–∞–ª—ñ –Ω–µ —ñ—Å–Ω—É—î –∂–æ–¥–Ω–æ–≥–æ –¥—ñ–π—Å–Ω–æ–≥–æ –Ω–∞–±–æ—Ä—É —Ü–∏—Ñ—Ä, —è–∫–∏–π –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —ñ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `NaN`.

> &mdash; [‚ÄúparseInt(null, 24) === 23‚Ä¶ wait, what?‚Äù](https://stackoverflow.com/questions/6459758/parseintnull-24-23-wait-what) at StackOverflow

–ù–µ –∑–∞–±—É–≤–∞–π—Ç–µ –ø—Ä–æ –≤—ñ—Å—ñ–º–∫–æ–≤—ñ —á–∏—Å–ª–∞:

```js
parseInt("06"); // 6
parseInt("08"); // 8 if support ECMAScript 5
parseInt("08"); // 0 if not support ECMAScript 5
```

**üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:** –Ø–∫—â–æ –≤—Ö—ñ–¥–Ω–∏–π —Ä—è–¥–æ–∫ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ "0", –∫–æ—Ä—ñ–Ω—å –¥–æ—Ä—ñ–≤–Ω—é—î –≤–æ—Å—å–º–∏ (–≤—ñ—Å—ñ–º–∫–æ–≤—ñ–π) –∞–±–æ 10 (–¥–µ—Å—è—Ç–∫–æ–≤–∏–π). –í–∏–±—Ä–∞–Ω–∏–π –∫–æ—Ä—ñ–Ω—å –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó. ECMAScript 5 –≤–∏–∑–Ω–∞—á–∞—î, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è 10 (–¥–µ—Å—è—Ç–∫–æ–≤–∏–π), –∞–ª–µ —â–µ –Ω–µ –≤—Å—ñ –±—Ä–∞—É–∑–µ—Ä–∏ –º–∞—é—Ç—å –ø—ñ–¥—Ç—Ä–∏–º–∫—É. –ó —Ü—ñ—î—ó –ø—Ä–∏—á–∏–Ω–∏ –∑–∞–≤–∂–¥–∏ –≤–∫–∞–∑—É–π—Ç–µ –∫–æ—Ä—ñ–Ω—å –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ `parseInt`.

`parseInt` –∑–∞–≤–∂–¥–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é–π—Ç–µ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ —É —Å—Ç—Ä–æ–∫—É:

```js
parseInt({ toString: () => 2, valueOf: () => 1 }); // -> 2
Number({ toString: () => 2, valueOf: () => 1 }); // -> 1
```

–ë—É–¥—å—Ç–µ –æ–±–µ—Ä–µ–∂–Ω—ñ –ø—ñ–¥ —á–∞—Å —Ä–æ–∑–±–æ—Ä—É –∑–Ω–∞—á–µ–Ω—å —ñ–∑ –ø–ª–∞–≤–∞—é—á–æ—é –∫–æ–º–æ—é

```js
parseInt(0.000001); // -> 0
parseInt(0.0000001); // -> 1
parseInt(1 / 1999999); // -> 5
```

**üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:** `ParseInt` –ø—Ä–∏–π–º–∞—î –∞—Ä–≥—É–º–µ–Ω—Ç —Ä—è–¥–∫–∞ —ñ –ø–æ–≤–µ—Ä—Ç–∞—î —Ü—ñ–ª–µ —á–∏—Å–ª–æ –≤–∫–∞–∑–∞–Ω–æ–≥–æ –∫–æ—Ä–µ–Ω—è. `ParseInt` —Ç–∞–∫–æ–∂ –∑–Ω—ñ–º–∞—î –±—É–¥—å-—â–æ –ø—ñ—Å–ª—è –≤–∫–ª—é—á–µ–Ω–Ω—è –ø–µ—Ä—à–æ—ó –Ω–µ—Ü–∏—Ñ—Ä–æ–≤–æ—ó —Ü–∏—Ñ—Ä–∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä —Å—Ç—Ä–æ–∫–∏. `0,000001` –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ —Ä—è–¥–æ–∫" `"0,000001"`, –∞ `parseInt` –ø–æ–≤–µ—Ä—Ç–∞—î `0`. –ö–æ–ª–∏ –∑–Ω–∞—á–µ–Ω–Ω—è `0,0000001` –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–æ–∫—É, –≤–æ–Ω–æ —Ä–æ–∑–≥–ª—è–¥–∞—î—Ç—å—Å—è —è–∫`"1e-7"`, –∞ –æ—Ç–∂–µ,` parseInt` –ø–æ–≤–µ—Ä—Ç–∞—î `1`. `1 / 1999999` —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É—î—Ç—å—Å—è —è–∫ `5.00000250000125e-7` —ñ `parseInt` –ø–æ–≤–µ—Ä—Ç–∞—î `5`.

## –û–±—á–∏—Å–ª–µ–Ω–Ω—è –∑ 'true' —ñ 'false'

–î–∞–≤–∞–π—Ç–µ –ø–æ—Ä–∞—Ö—É—î–º–æ:

```js
true -
  true +
  // -> 2
  (true + true) * (true + true) -
  true; // -> 3
```

–•–º–º–º–º–º‚Ä¶ ü§î

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–ú–∏ –º–æ–∂–µ–º–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–æ —á–∏—Å–µ–ª –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ `Number`. –¶—ñ–ª–∫–æ–º –æ—á–µ–≤–∏–¥–Ω–æ, —â–æ –∑–Ω–∞—á–µ–Ω–Ω—è `true` –±—É–¥–µ –ø—Ä–∏–º—É—Å–æ–≤–æ –ø–µ—Ä–∏–≤–µ–¥–µ–Ω–µ –¥–æ `1`:

```js
Number(true); // -> 1
```

–û–¥–∏–Ω–∞—Ä–Ω–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –ø–ª—é—Å –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ —á–∏—Å–ª–æ. –í—ñ–Ω –º–æ–∂–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Å—Ç—Ä–æ–∫–æ–≤—ñ –ø–æ–¥–∞–Ω–Ω—è —Ü—ñ–ª–∏—Ö —á–∏—Å–µ–ª —ñ –ø–ª–∞–≤–∞—é—á–∏—Ö –∑–Ω–∞—á–µ–Ω—å, –∞ —Ç–∞–∫–æ–∂ –Ω–µ —Å—Ç—Ä–æ–∫–æ–≤—ñ –∑–Ω–∞—á–µ–Ω–Ω—è `true`,`false` —Ç–∞ `null`. –Ø–∫—â–æ –≤—ñ–Ω –Ω–µ –º–æ–∂–µ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–µ–≤–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è, –≤—ñ–Ω –æ—Ü—ñ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è `NaN`. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –º–∏ –º–æ–∂–µ–º–æ –ø—Ä–æ—Å—Ç—ñ—à–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ `true` –¥–æ `1`:

```js
+true; // -> 1
```

–ö–æ–ª–∏ –≤–∏ –≤–∏–∫–æ–Ω—É—î—Ç–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∞–±–æ –º–Ω–æ–∂–µ–Ω–Ω—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –º–µ—Ç–æ–¥ `ToNumber`. –í—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, —Ü–µ–π –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î:

> –Ø–∫—â–æ `–∞—Ä–≥—É–º–µ–Ω—Ç` —î **true**, –ø–æ–≤–µ—Ä–Ω–∏ **1**. –Ø–∫—â–æ `–∞—Ä–≥—É–º–µ–Ω—Ç` —î **false**, –ø–æ–≤–µ—Ä–Ω–∏ **+0**.

–û—Å—å —á–æ–º—É –º–∏ –º–æ–∂–µ–º–æ –¥–æ–¥–∞—Ç–∏ –±—É–ª–µ–≤—ñ –∑–Ω–∞—á–µ–Ω–Ω—è —è–∫ –∑–≤–∏—á–∞–π–Ω—ñ —á–∏—Å–ª–∞ —ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏.

–í—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —Ä–æ–∑–¥—ñ–ª–∏:

- [**12.5.6** Unary `+` Operator](https://www.ecma-international.org/ecma-262/#sec-unary-plus-operator)
- [**12.8.3** The Addition Operator (`+`)](https://www.ecma-international.org/ecma-262/#sec-addition-operator-plus)
- [**7.1.3** ToNumber(`argument`)](https://www.ecma-international.org/ecma-262/#sec-tonumber)

## –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ HTML –¥—ñ–π—Å–Ω—ñ –≤ JavaScript

–í–∏ –±—É–¥–µ—Ç–µ –≤—Ä–∞–∂–µ–Ω—ñ, –∞–ª–µ `<! -` (—â–æ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è –∫–æ–º–µ–Ω—Ç–∞—Ä–µ–º HTML) —î –¥—ñ–π—Å–Ω–∏–º –∫–æ–º–µ–Ω—Ç–∞—Ä–µ–º —É JavaScript.

```js
// valid comment
<!-- —Ç–∞–∫–æ–∂ –¥—ñ–π—Å–Ω–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–í—Ä–∞–∂–µ–Ω—ñ? –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ, –ø–æ–¥—ñ–±–Ω—ñ –¥–æ HTML, –º–∞–ª–∏ –Ω–∞ –º–µ—Ç—ñ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞–º, —è–∫—ñ –Ω–µ —Ä–æ–∑—É–º—ñ–ª–∏ —Ç–µ–≥ `<script>`, –≤–∏—Ç–æ–Ω—á–µ–Ω–æ –¥–µ–≥—Ä–∞–¥—É–≤–∞—Ç–∏. –¶—ñ –±—Ä–∞—É–∑–µ—Ä–∏, –Ω–∞–ø—Ä. Netscape 1.x –±—ñ–ª—å—à–µ –Ω–µ –ø–æ–ø—É–ª—è—Ä–Ω–∏—ñ. –¢–æ–∂ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î —Å–µ–Ω—Å—É —Ä–æ–∑–º—ñ—â—É–≤–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ HTML —É —Ç–µ–≥–∞—Ö —Å–∫—Ä–∏–ø—Ç—ñ–≤.

–û—Å–∫—ñ–ª—å–∫–∏ Node.js –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –º–µ—Ö–∞–Ω—ñ–∑–º—ñ V8, HTML-–ø–æ–¥—ñ–±–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ —Ç–∞–∫–æ–∂ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è Node.js. –ë—ñ–ª—å—à–µ —Ç–æ–≥–æ, –≤–æ–Ω–∏ —î —á–∞—Å—Ç–∏–Ω–æ—é —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:

- [**B.1.3** HTML-like Comments](https://www.ecma-international.org/ecma-262/#sec-html-like-comments)

## `NaN` ~~–Ω–µ~~ —î —á–∏—Å–ª–æ–º

–¢–∏–ø `NaN` - —Ü–µ` `—á–∏—Å–ª–æ '':

```js
typeof NaN; // -> 'number'
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–Ø–∫ –ø—Ä–∞—Ü—é—é—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏ `typeof` —Ç–∞` instanceof`:

- [**12.5.5** The `typeof` Operator](https://www.ecma-international.org/ecma-262/#sec-typeof-operator)
- [**12.10.4** Runtime Semantics: InstanceofOperator(`O`,`C`)](https://www.ecma-international.org/ecma-262/#sec-instanceofoperator)

## `[]` —ñ `null` - —Ü–µ –æ–±'—î–∫—Ç–∏

```js
typeof []; // -> 'object'
typeof null; // -> 'object'

// however
null instanceof Object; // false
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–ü–æ–≤–µ–¥—ñ–Ω–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `typeof` –≤–∏–∑–Ω–∞—á–µ–Ω–∞ –≤ —Ü—å–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:

- [**12.5.5** The `typeof` Operator](https://www.ecma-international.org/ecma-262/#sec-typeof-operator)

–í—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, –æ–ø–µ—Ä–∞—Ç–æ—Ä `typeof` –ø–æ–≤–µ—Ä—Ç–∞—î —Å—Ç—Ä–æ–∫—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ [Table 35: `typeof` Operator Results](https://www.ecma-international.org/ecma-262/#table-35). –î–ª—è `null`, –∑–≤–∏—á–∞–π–Ω–∏—Ö, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –µ–∫–∑–æ—Ç–∏—á–Ω–∏—Ö —Ç–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –µ–∫–∑–æ—Ç–∏—á–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤, —è–∫—ñ –Ω–µ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å`[[Call]]`, –≤—ñ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î —Å—Ç—Ä–æ–∫—É `"object "`.

–û–¥–Ω–∞–∫ –≤–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–∏–ø –æ–±'—î–∫—Ç–∞, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –º–µ—Ç–æ–¥ `toString`.

```js
Object.prototype.toString.call([]);
// -> '[object Array]'

Object.prototype.toString.call(new Date());
// -> '[object Date]'

Object.prototype.toString.call(null);
// -> '[object Null]'
```

## –ß–∞—Ä—ñ–≤–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å

```js
999999999999999; // -> 999999999999999
9999999999999999; // -> 10000000000000000

10000000000000000; // -> 10000000000000000
10000000000000000 + 1; // -> 10000000000000000
10000000000000000 + 1.1; // -> 10000000000000002
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–¶–µ —Å–ø—Ä–∏—á–∏–Ω–µ–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º IEEE 754-2008 –¥–ª—è –¥–≤—ñ–π–∫–æ–≤–æ—ó –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏ –∑ –ø–ª–∞–≤–∞—é—á–æ—é –∫—Ä–∞–ø–∫–æ—é. –£ —Ü—å–æ–º—É –º–∞—Å—à—Ç–∞–±—ñ –≤—ñ–Ω –æ–∫—Ä—É–≥–ª—è—î—Ç—å—Å—è –¥–æ –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –ø–∞—Ä–Ω–æ–≥–æ —á–∏—Å–ª–∞. –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ:

- [**6.1.6** The Number Type](https://www.ecma-international.org/ecma-262/#sec-ecmascript-language-types-number-type)
- [IEEE 754](https://en.wikipedia.org/wiki/IEEE_754) on Wikipedia

## –¢–æ—á–Ω—ñ—Å—Ç—å `0,1 + 0,2`

–ó–∞–≥–∞–ª—å–Ω–æ–≤—ñ–¥–æ–º–∏–π "–ø—Ä–∏–∫–æ–ª". –î–æ–¥–∞–≤–∞–Ω–Ω—è `0,1` —Ç–∞` 0,2` —î —Å—É–ø–µ—Ä —Ç–æ—á–Ω–∏–º:

```js
0.1 +
  0.2(
    // -> 0.30000000000000004
    0.1 + 0.2
  ) ===
  0.3; // -> false
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ [‚ÄùIs floating point math broken?‚Äù](https://stackoverflow.com/questions/588004/is-floating-point-math-broken) –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞ StackOverflow:

> –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏ `0,2` —Ç–∞ `0,3` —É –≤–∞—à—ñ–π –ø—Ä–æ–≥—Ä–∞–º—ñ —Ç–∞–∫–æ–∂ –±—É–¥—É—Ç—å –Ω–∞–±–ª–∏–∂–µ–Ω–∏–º–∏ –¥–æ —ó—Ö —Å–ø—Ä–∞–≤–∂–Ω—ñ—Ö –∑–Ω–∞—á–µ–Ω—å. –¢—Ä–∞–ø–ª—è—î—Ç—å—Å—è, —â–æ –Ω–∞–π–±–ª–∏–∂—á–µ –¥–æ `0.2` –∑–Ω–∞—á–µ–Ω–Ω—è `double` –ø–µ—Ä–µ–≤–∏—â—É—î —Ä–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ —á–∏—Å–ª–æ `0.2`, –∞–ª–µ –Ω–∞–π–±–ª–∏–∂—á–µ `double` –¥–æ `0,3` –º–µ–Ω—à–µ —Ä–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞ `0,3`. –°—É–º–∞ `0,1` —ñ `0,2` –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ –±—ñ–ª—å—à—É, –Ω—ñ–∂ —Ä–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ —á–∏—Å–ª–æ `0,3`, —ñ, –æ—Ç–∂–µ, –Ω–µ –ø–æ–≥–æ–¥–∂—É—î—Ç—å—Å—è –∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ—é —É –≤–∞—à–æ–º—É –∫–æ–¥—ñ.

–¶—è –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞—Å—Ç—ñ–ª—å–∫–∏ –≤—ñ–¥–æ–º–∞, —â–æ —ñ—Å–Ω—É—î –Ω–∞–≤—ñ—Ç—å –≤–µ–±-—Å–∞–π—Ç –ø—ñ–¥ –Ω–∞–∑–≤–æ—é [0.30000000000000004.com](http://0.30000000000000004.com/). –¶–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —É –∫–æ–∂–Ω—ñ–π –º–æ–≤—ñ, —è–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –∑ –ø–ª–∞–≤–∞—é—á–æ—é –∫–æ–º–æ—é, –∞ –Ω–µ –ª–∏—à–µ —É JavaScript.

## –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —á–∏—Å–µ–ª

–í–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–æ –æ–±–≥–æ—Ä—Ç–∫–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤, —Ç–∞–∫–∏—Ö —è–∫ `Number` –∞–±–æ `String`.

```js
Number.prototype.isOne = function () {
  return Number(this) === 1;
};

(1.0).isOne(); // -> true
(1).isOne(); // -> true
(2.0)
  .isOne()(
    // -> false
    7
  )
  .isOne(); // -> false
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

Obviously, you can extend the `Number` object like any other object in JavaScript. However, it's not recommended if the behavior of the defined method is not a part of the specification. Here is the list of `Number`'s properties:

–û—á–µ–≤–∏–¥–Ω–æ, —â–æ –≤–∏ –º–æ–∂–µ—Ç–µ —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ –æ–±'—î–∫—Ç `Number` —è–∫ –±—É–¥—å-—è–∫–∏–π —ñ–Ω—à–∏–π –æ–±'—î–∫—Ç —É JavaScript. –û–¥–Ω–∞–∫ —Ü–µ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è, —è–∫—â–æ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É –Ω–µ —î —á–∞—Å—Ç–∏–Ω–æ—é —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –û—Å—å —Å–ø–∏—Å–æ–∫ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π `Number`:

- [**20.1** Number Objects](https://www.ecma-international.org/ecma-262/#sec-number-objects)

## –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ç—Ä—å–æ—Ö —á–∏—Å–µ–ª

```js
1 < 2 < 3; // -> true
3 > 2 > 1; // -> false
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–ß–æ–º—É —Ü–µ —Ç–∞–∫ –ø—Ä–∞—Ü—é—î? –ù—É, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –ø–µ—Ä—à—ñ–π —á–∞—Å—Ç–∏–Ω—ñ –≤–∏—Ä–∞–∑—É. –û—Å—å —è–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:

```js
1 < 2 < 3; // 1 < 2 -> true
true < 3; // true -> 1
1 < 3; // -> true

3 > 2 > 1; // 3 > 2 -> true
true > 1; // true -> 1
1 > 1; // -> false
```

–ú–∏ –º–æ–∂–µ–º–æ —Ü–µ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ _–û–ø–µ—Ä–∞—Ç–æ—Ä –±—ñ–ª—å—à–µ —á–∏ –¥–æ—Ä—ñ–≤–Ω—é—î (`>=`)_:

```js
3 > 2 >= 1; // true
```

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ —Ä–µ–ª—è—Ü—ñ–π–Ω—ñ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏ —á–∏—Ç–∞–π—Ç–µ —É —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:

- [**12.10** Relational Operators](https://www.ecma-international.org/ecma-262/#sec-relational-operators)

## –ö—É–º–µ–¥–Ω—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è

–ß–∞—Å—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π —É JavaScript –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∑–æ–≤—Å—ñ–º –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–∏–º–∏. –†–æ–∑–≥–ª—è–Ω–µ–º–æ —Ü—ñ –ø—Ä–∏–∫–ª–∞–¥–∏:

```js
 3  - 1  // -> 2
 3  + 1  // -> 4
'3' - 1  // -> 2
'3' + 1  // -> '31'

'' + '' // -> ''
[] + [] // -> ''
{} + [] // -> 0
[] + {} // -> '[object Object]'
{} + {} // -> '[object Object][object Object]'

'222' - -'111' // -> 333

[4] * [4]       // -> 16
[] * []         // -> 0
[4, 4] * [4, 4] // NaN
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤ –ø–µ—Ä—à–∏—Ö —á–æ—Ç–∏—Ä—å–æ—Ö –ø—Ä–∏–∫–ª–∞–¥–∞—Ö? –û—Å—å –Ω–µ–≤–µ–ª–∏–∫–∞ —Ç–∞–±–ª–∏—Ü—è, —â–æ–± –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤ JavaScript:

```
Number  + Number  -> addition
Boolean + Number  -> addition
Boolean + Boolean -> addition
Number  + String  -> concatenation
String  + Boolean -> concatenation
String  + String  -> concatenation
```

–ê —è–∫ —â–æ–¥–æ —ñ–Ω—à–∏—Ö –ø—Ä–∏–∫–ª–∞–¥—ñ–≤? –ú–µ—Ç–æ–¥–∏ `ToPrimitive` —Ç–∞ `ToString` –Ω–µ—è–≤–Ω–æ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è –¥–ª—è `[]` —ñ `{}`–ø–µ—Ä–µ–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º. –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ —á–∏—Ç–∞–π—Ç–µ —É —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:

- [**12.8.3** The Addition Operator (`+`)](https://www.ecma-international.org/ecma-262/#sec-addition-operator-plus)
- [**7.1.1** ToPrimitive(`input` [,`PreferredType`])](https://www.ecma-international.org/ecma-262/#sec-toprimitive)
- [**7.1.12** ToString(`argument`)](https://www.ecma-international.org/ecma-262/#sec-tostring)

Notably, `{} + []` here is the exception. The reason why it differs from `[] + {}` is that, without parenthesis, it is interpreted as a code block and then a unary +, converting `[]` into a number. It sees the following:

–ü—Ä–∏–º—ñ—Ç–Ω–æ, —â–æ `{} + []` —Ç—É—Ç —î –≤–∏–Ω—è—Ç–∫–æ–º. –ü—Ä–∏—á–∏–Ω–∞, –ø–æ —è–∫—ñ–π –≤—ñ–Ω –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ `[] + {}`, –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ –±–µ–∑ –¥—É–∂–æ–∫ –≤—ñ–Ω —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É—î—Ç—å—Å—è —è–∫ –±–ª–æ–∫ –∫–æ–¥—É, –∞ –ø–æ—Ç—ñ–º –æ–¥–∏–Ω–∞—Ä–Ω–∏–π +, –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—é—á–∏ `[]` —É —á–∏—Å–ª–æ. –í—ñ–Ω –±–∞—á–∏—Ç—å –Ω–∞—Å—Ç—É–ø–Ω–µ:

```js
{
  // a code block here
}
+[]; // -> 0
```

–©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç–∞–∫–∏–π —Å–∞–º–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —è–∫ `[] + {}`, –º–∏ –º–æ–∂–µ–º–æ –æ–±–µ—Ä–Ω—É—Ç–∏ –π–æ–≥–æ –≤ –¥—É–∂–∫–∏.

```js
({} + []); // -> [object Object]
```

## –î–æ–¥–∞–≤–∞–Ω–Ω—è RegExps

–ß–∏ –∑–Ω–∞–ª–∏ –≤–∏, —â–æ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ç–∞–∫—ñ —á–∏—Å–ª–∞?

```js
// Patch a toString method
RegExp.prototype.toString =
  function () {
    return this.source;
  } /
  7 /
  -/5/; // -> 2
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

- [**21.2.5.10** get RegExp.prototype.source](https://www.ecma-international.org/ecma-262/#sec-get-regexp.prototype.source)

## –°—Ç—Ä–æ–∫–∏ –Ω–µ —î –µ–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ `String`

```js
"str"; // -> 'str'
typeof "str"; // -> 'string'
"str" instanceof String; // -> false
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `String` –ø–æ–≤–µ—Ä—Ç–∞—î —Ä—è–¥–æ–∫:

```js
typeof String("str"); // -> 'string'
String("str"); // -> 'str'
String("str") == "str"; // -> true
```

–°–ø—Ä–æ–±—É—î–º–æ –∑ `new`:

```js
new String("str") == "str"; // -> true
typeof new String("str"); // -> 'object'
```

–û–±'—î–∫—Ç? –©–æ —Ü–µ?

```js
new String("str"); // -> [String: 'str']
```

–ë—ñ–ª—å—à–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä String —É —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

- [**21.1.1** The String Constructor](https://www.ecma-international.org/ecma-262/#sec-string-constructor)

## –í–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ–π —ñ–∑ –∑–≤–æ—Ä–æ—Ç–Ω–∏–º–∏ –ø–æ–∑–Ω–∞—á–∫–∞–º–∏

Let's declare a function which logs all params into the console:

–î–∞–≤–∞–π—Ç–µ –æ–≥–æ–ª–æ—Å–∏–º–æ —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫–∞ –≤–∏–≤–µ–¥–µ –≤—Å—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤ –∫–æ–Ω—Å–æ–ª—å:

```js
function f(...args) {
  return args;
}
```

–ë–µ–∑ —Å—É–º–Ω—ñ–≤—É, –≤–∏ –∑–Ω–∞—î—Ç–µ, —â–æ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ç–∞–∫:

```js
f(1, 2, 3); // -> [ 1, 2, 3 ]
```

–ê–ª–µ —á–∏ –∑–Ω–∞—î—Ç–µ –≤–∏, —â–æ –º–æ–∂–µ—Ç–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –±—É–¥—å-—è–∫—É —Ñ—É–Ω–∫—Ü—ñ—é —ñ–∑ –∑–≤–æ—Ä–æ—Ç–Ω–∏–º–∏ –ø–æ–∑–Ω–∞—á–∫–∞–º–∏?

```js
f`true is ${true}, false is ${false}, array is ${[1, 2, 3]}`;
// -> [ [ 'true is ', ', false is ', ', array is ', '' ],
// ->   true,
// ->   false,
// ->   [ 1, 2, 3 ] ]
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–ù—É, —Ü–µ –∑–æ–≤—Å—ñ–º –Ω–µ –º–∞–≥—ñ—è, —è–∫—â–æ –≤–∏ –∑–Ω–∞–π–æ–º—ñ –∑ _Tagged literal template_. –£ –Ω–∞–≤–µ–¥–µ–Ω–æ–º—É –≤–∏—â–µ –ø—Ä–∏–∫–ª–∞–¥—ñ —Ñ—É–Ω–∫—Ü—ñ—è `f` —î —Ç–µ–≥–æ–º –¥–ª—è –ª—ñ—Ç–µ—Ä–∞–ª—É —à–∞–±–ª–æ–Ω—É. –¢–µ–≥–∏ –ø–µ—Ä–µ–¥ –ª—ñ—Ç–µ—Ä–∞–ª–æ–º —à–∞–±–ª–æ–Ω—É –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ª—ñ—Ç–µ—Ä–∞–ª–∏ —à–∞–±–ª–æ–Ω—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ñ—É–Ω–∫—Ü—ñ—ó. –ü–µ—Ä—à–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç —Ñ—É–Ω–∫—Ü—ñ—ó —Ç–µ–≥—É –º—ñ—Å—Ç–∏—Ç—å –º–∞—Å–∏–≤ —Ä—è–¥–∫—ñ–≤. –†–µ—à—Ç–∞ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ –ø–æ–≤‚Äô—è–∑–∞–Ω—ñ –∑ –≤–∏—Ä–∞–∑–∞–º–∏. –ü—Ä–∏–∫–ª–∞–¥:

```js
function template(strings, ...keys) {
  // do something with strings and keys‚Ä¶
}
```

–¶–µ [magic behind](http://mxstbr.blog/2016/11/styled-components-magic-explained/) –≤—ñ–¥–æ–º–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –ø—ñ–¥ –Ω–∞–∑–≤–æ—é [üíÖ styled-components](https://www.styled-components.com/), —è–∫–∞ —î –ø–æ–ø—É–ª—è—Ä–Ω–æ—é —É —Å–ø—ñ–ª—å–Ω–æ—Ç—ñ React.

–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—é:

- [**12.3.7** Tagged Templates](https://www.ecma-international.org/ecma-262/#sec-tagged-templates)

## –í–∏–∫–ª–∏–∫ –≤–∏–∫–ª–∏–∫ –≤–∏–∫–ª–∏–∫

> –ó–Ω–∞–π–¥–µ–Ω–æ [@cramforce](http://twitter.com/cramforce)

```js
console.log.call.call.call.call.call.apply((a) => a, [1, 2]);
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–£–≤–∞–≥–∞, —Ü–µ –º–æ–∂–µ –∑–ª–∞–º–∞—Ç–∏ –≤–∞–º –≥–æ–ª–æ–≤—É! –°–ø—Ä–æ–±—É–π—Ç–µ –≤—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏ —Ü–µ–π –∫–æ–¥ —É —Å–≤–æ—ó–π –≥–æ–ª–æ–≤—ñ: –º–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ –º–µ—Ç–æ–¥ `call` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ç–æ–¥—É` apply`. –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ:

- [**19.2.3.3** Function.prototype.call(`thisArg`, ...`args`)](https://www.ecma-international.org/ecma-262/#sec-function.prototype.call)
- [**19.2.3.1 ** Function.prototype.apply(`thisArg`, `argArray`)](https://www.ecma-international.org/ecma-262/#sec-function.prototype.apply)

## –í–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å `constructor`

```js
const c = "constructor";
c[c][c]('console.log("WTF?")')(); // > WTF?
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–î–∞–≤–∞–π—Ç–µ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ —Ü–µ–π –ø—Ä–∏–∫–ª–∞–¥ –ø–æ–µ—Ç–∞–ø–Ω–æ:

```js
// Declare a new constant which is a string 'constructor'
const c = "constructor";

// c is a string
c; // -> 'constructor'

// Getting a constructor of string
c[c]; // -> [Function: String]

// Getting a constructor of constructor
c[c][c]; // -> [Function: Function]

// Call the Function constructor and pass
// the body of new function as an argument
c[c][c]('console.log("WTF?")'); // -> [Function: anonymous]

// And then call this anonymous function
// The result is console-logging a string 'WTF?'
c[c][c]('console.log("WTF?")')(); // > WTF?
```

`Object.prototype.constructor` –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ `Object`, —è–∫–∞ —Å—Ç–≤–æ—Ä–∏–ª–∞ –æ–±'—î–∫—Ç –µ–∫–∑–µ–º–ø–ª—è—Ä–∞. –£ –≤–∏–ø–∞–¥–∫—É –∑ —Ä—è–¥–∫–∞–º–∏ —Ü–µ `String`, —É –≤–∏–ø–∞–¥–∫—É –∑ —á–∏—Å–ª–∞–º–∏ —Ü–µ `Number` —ñ —Ç–¥.

- [`Object.prototype.constructor`](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor) –Ω–∞ MDN
- [**19.1.3.1** Object.prototype.constructor](https://www.ecma-international.org/ecma-262/#sec-object.prototype.constructor)

## –û–±'—î–∫—Ç —è–∫ –∫–ª—é—á –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –æ–±'—î–∫—Ç–∞

```js
{ [{}]: {} } // -> { '[object Object]': {} }
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–ß–æ–º—É —Ü–µ —Ç–∞–∫ –ø—Ä–∞—Ü—é—î? –¢—É—Ç –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ _Computed property name_. –ö–æ–ª–∏ –≤–∏ –ø–µ—Ä–µ–¥–∞—î—Ç–µ –æ–±'—î–∫—Ç –º—ñ–∂ —Ü–∏–º–∏ –¥—É–∂–∫–∞–º–∏, –≤—ñ–Ω –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç —É —Å—Ç—Ä–æ–∫—É, —Ç–æ–º—É –º–∏ –æ—Ç—Ä–∏–º—É—î–º–æ –∫–ª—é—á –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ `'[object Object]'` —ñ –∑–Ω–∞—á–µ–Ω–Ω—è `{}`

–ú–∏ –º–æ–∂–µ–º–æ –Ω–∞–ø–∏—Å–∞—Ç–∏ "–¥—É–∂–∫–æ–≤–µ –ø–µ–∫–ª–æ":

```js
({ [{}]: { [{}]: {} } }[{}][{}]); // -> {}

// structure:
// {
//   '[object Object]': {
//     '[object Object]': {}
//   }
// }
```

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ –ª—ñ—Ç–µ—Ä–∞–ª–∏ –æ–±‚Äô—î–∫—Ç—ñ–≤ —á–∏—Ç–∞–π—Ç–µ —Ç—É—Ç:

- [Object initializer](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer) at MDN
- [**12.2.6** Object Initializer](http://www.ecma-international.org/ecma-262/6.0/#sec-object-initializer)

## –î–æ—Å—Ç—É–ø –¥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `__proto__`

–Ø–∫ –º–∏ –∑–Ω–∞—î–º–æ, –ø—Ä–∏–º—ñ—Ç–∏–≤–∏ –Ω–µ –º–∞—é—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø—ñ–≤. –û–¥–Ω–∞–∫, —è–∫—â–æ –º–∏ —Å–ø—Ä–æ–±—É—î–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è `__proto__` –¥–ª—è –ø—Ä–∏–º—ñ—Ç–∏–≤—ñ–≤, –º–∏ –æ—Ç—Ä–∏–º–∞—î–º–æ —Ç–∞–∫–µ:

```js
(1).__proto__.__proto__.__proto__; // -> null
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–¶–µ —Ç—Ä–∞–ø–ª—è—î—Ç—å—Å—è —Ç–æ–º—É, —â–æ –∫–æ–ª–∏ —â–æ—Å—å –Ω–µ –º–∞—î –ø—Ä–æ—Ç–æ—Ç–∏–ø—É, –≤–æ–Ω–æ –±—É–¥–µ –∑–∞–≥–æ—Ä–Ω—É—Ç–æ –≤ –æ–±–≥–æ—Ä—Ç–∫–æ–≤–∏–π –æ–±'—î–∫—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ç–æ–¥—É `ToObject`. –û—Ç–∂–µ, –ø–æ–∫—Ä–æ–∫–æ–≤–æ:

```js
(1)
  .__proto__(
    // -> [Number: 0]
    1
  )
  .__proto__.__proto__(
    // -> {}
    1
  ).__proto__.__proto__.__proto__; // -> null
```

–û—Å—å –¥–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ `__proto__`:

- [**B.2.2.1** Object.prototype.**proto**](https://www.ecma-international.org/ecma-262/#sec-object.prototype.__proto__)
- [**7.1.13** ToObject(`argument`)](https://www.ecma-international.org/ecma-262/#sec-toobject)

## `` `${{Object}}` ``

–Ø–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏—Ä–∞–∑—É –Ω–∏–∂—á–µ?

```js
`${{ Object }}`;
```

–í—ñ–¥–ø–æ–≤—ñ–¥—å:

```js
// -> '[object Object]'
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

–ú–∏ –≤–∏–∑–Ω–∞—á–∏–ª–∏ –æ–±'—î–∫—Ç —ñ–∑ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—é `Object`, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ _Shorthand property notation_:

```js
{
  Object: Object;
}
```

–ü–æ—Ç—ñ–º –º–∏ –ø–µ—Ä–µ–¥–∞–ª–∏ —Ü–µ–π –æ–±'—î–∫—Ç –¥–æ –ª—ñ—Ç–µ—Ä–∞–ª—É —à–∞–±–ª–æ–Ω—É, —Ç–æ–º—É –º–µ—Ç–æ–¥ `toString` –≤–∏–∫–ª–∏–∫–∞—î —Ü–µ–π –æ–±'—î–∫—Ç. –û—Å—å —á–æ–º—É –º–∏ –æ—Ç—Ä–∏–º—É—î–º–æ —Ä—è–¥–æ–∫ `'[object Object]'`.

- [**12.2.9** Template Literals](https://www.ecma-international.org/ecma-262/#sec-template-literals)
- [Object initializer](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer) at MDN

## –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü—ñ—è –∑—ñ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º

–†–æ–∑–≥–ª—è–Ω–µ–º–æ —Ü–µ–π –ø—Ä–∏–∫–ª–∞–¥:

```js
let x,
  { x: y = 1 } = { x };
y;
```

–ù–∞–≤–µ–¥–µ–Ω–∏–π –≤–∏—â–µ –ø—Ä–∏–∫–ª–∞–¥ —î —á—É–¥–æ–≤–∏–º –∑–∞–≤–¥–∞–Ω–Ω—è–º –¥–ª—è —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏. –Ø–∫–µ –∑–Ω–∞—á–µ–Ω–Ω—è `y`? –í—ñ–¥–ø–æ–≤—ñ–¥—å —Ç–∞–∫–∞:

```js
// -> 1
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

```js
let x,
  { x: y = 1 } = { x };
y;
//  ‚Üë       ‚Üë           ‚Üë    ‚Üë
//  1       3           2    4
```

–ó –Ω–∞–≤–µ–¥–µ–Ω–∏–º –≤–∏—â–µ –ø—Ä–∏–∫–ª–∞–¥–æ–º:

1. –ú–∏ –æ–≥–æ–ª–æ—à—É—î–º–æ `x` –±–µ–∑ –∑–Ω–∞—á–µ–Ω–Ω—è, —Ç–æ–º—É –≤–æ–Ω–æ —î `undefined`.
2. –ü–æ—Ç—ñ–º –º–∏ –∑–∞–ø–∞–∫–æ–≤—É—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è `x` —É –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å –æ–±'—î–∫—Ç–∞` x`.
3. –ü–æ—Ç—ñ–º –º–∏ –≤–∏—Ç—è–≥—É—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è `x`, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä—É–≤–∞–Ω–Ω—è, —ñ —Ö–æ—á–µ–º–æ –ø—Ä–∏–∑–Ω–∞—á–∏—Ç–∏ –π–æ–≥–æ` y`. –Ø–∫—â–æ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–æ, —Ç–æ–¥—ñ –º–∏ –±—É–¥–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `1` —è–∫ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º.
4. –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è `y`.

- [Object initializer](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer) at MDN

## Dots and spreading

Interesting examples could be composed with spreading of arrays. Consider this:

```js
[...[..."..."]].length; // -> 3
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

Why `3`? When we use the [spread operator](http://www.ecma-international.org/ecma-262/6.0/#sec-array-initializer), the `@@iterator` method is called, and the returned iterator is used to obtain the values to be iterated. The default iterator for string spreads a string into characters. After spreading, we pack these characters into an array. Then we spread this array again and pack it back to an array.

A `'...'` string consists with three `.` characters, so the length of resulting array is `3`.

Now, step-by-step:

```js
[...'...']             // -> [ '.', '.', '.' ]
[...[...'...']]        // -> [ '.', '.', '.' ]
[...[...'...']].length // -> 3
```

Obviously, we can spread and wrap the elements of an array as many times as we want:

```js
[...'...']                 // -> [ '.', '.', '.' ]
[...[...'...']]            // -> [ '.', '.', '.' ]
[...[...[...'...']]]       // -> [ '.', '.', '.' ]
[...[...[...[...'...']]]]  // -> [ '.', '.', '.' ]
// and so on ‚Ä¶
```

## Labels

Not many programmers know about labels in JavaScript. They are kind of interesting:

```js
foo: {
  console.log("first");
  break foo;
  console.log("second");
}

// > first
// -> undefined
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

The labeled statement is used with `break` or `continue` statements. You can use a label to identify a loop, and then use the `break` or `continue` statements to indicate whether a program should interrupt the loop or continue its execution.

In the example above, we identify a label `foo`. After that `console.log('first');` executes and then we interrupt the execution.

Read more about labels in JavaScript:

- [**13.13** Labelled Statements](https://tc39.github.io/ecma262/#sec-labelled-statements)
- [Labeled statements](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label) at MDN

## Nested labels

```js
a: b: c: d: e: f: g: 1, 2, 3, 4, 5; // -> 5
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

Similar to previous examples, follow these links:

- [**12.16** Comma Operator (`,`)](https://www.ecma-international.org/ecma-262/#sec-comma-operator)
- [**13.13** Labelled Statements](https://tc39.github.io/ecma262/#sec-labelled-statements)
- [Labeled statements](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label) at MDN

## Insidious `try..catch`

What will this expression return? `2` or `3`?

```js
(() => {
  try {
    return 2;
  } finally {
    return 3;
  }
})();
```

The answer is `3`. Surprised?

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

- [**13.15** The `try` Statement](https://www.ecma-international.org/ecma-262/#sec-try-statement)

## Is this multiple inheritance?

Take a look at the example below:

```js
new (class F extends (String, Array) {})(); // -> F []
```

Is this a multiple inheritance? Nope.

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

The interesting part is the value of the `extends` clause (`(String, Array)`). The grouping operator always returns its last argument, so `(String, Array)` is actually just `Array`. That means we've just created a class which extends `Array`.

- [**14.5** Class Definitions](https://www.ecma-international.org/ecma-262/#sec-class-definitions)
- [**12.16** Comma Operator (`,`)](https://www.ecma-international.org/ecma-262/#sec-comma-operator)

## A generator which yields itself

Consider this example of a generator which yields itself:

```js
(function* f() {
  yield f;
})().next();
// -> { value: [GeneratorFunction: f], done: false }
```

As you can see, the returned value is an object with its `value` equal to `f`. In that case, we can do something like this:

```js
(function* f() {
  yield f;
})()
  .next()
  .value()
  .next()(
    // -> { value: [GeneratorFunction: f], done: false }

    // and again
    function* f() {
      yield f;
    }
  )()
  .next()
  .value()
  .next()
  .value()
  .next()(
    // -> { value: [GeneratorFunction: f], done: false }

    // and again
    function* f() {
      yield f;
    }
  )()
  .next()
  .value()
  .next()
  .value()
  .next()
  .value()
  .next();
// -> { value: [GeneratorFunction: f], done: false }

// and so on
// ‚Ä¶
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

To understand why this works that way, read these sections of the specification:

- [**25** Control Abstraction Objects](https://www.ecma-international.org/ecma-262/#sec-control-abstraction-objects)
- [**25.3** Generator Objects](https://www.ecma-international.org/ecma-262/#sec-generator-objects)

## A class of class

Consider this obfuscated syntax playing:

```js
typeof new (class {
  class() {}
})(); // -> 'object'
```

It seems like we're declaring a class inside of class. Should be an error, however, we get the string `'object'`.

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

Since ECMAScript 5 era, _keywords_ are allowed as _property names_. So think about it as this simple object example:

```js
const foo = {
  class: function () {},
};
```

And ES6 standardized shorthand method definitions. Also, classes can be anonymous. So if we drop `: function` part, we're going to get:

```js
class {
  class() {}
}
```

The result of a default class is always a simple object. And its typeof should return `'object'`.

Read more here:

- [**14.3** Method Definitions](https://www.ecma-international.org/ecma-262/#sec-method-definitions)
- [**14.5** Class Definitions](https://www.ecma-international.org/ecma-262/#sec-class-definitions)

## Non-coercible objects

With well-known symbols, there's a way to get rid of type coercion. Take a look:

```js
function nonCoercible(val) {
  if (val == null) {
    throw TypeError("nonCoercible should not be called with null or undefined");
  }

  const res = Object(val);

  res[Symbol.toPrimitive] = () => {
    throw TypeError("Trying to coerce non-coercible object");
  };

  return res;
}
```

Now we can use this like this:

```js
// objects
const foo = nonCoercible({ foo: "foo" });

foo * 10; // -> TypeError: Trying to coerce non-coercible object
foo + "evil"; // -> TypeError: Trying to coerce non-coercible object

// strings
const bar = nonCoercible("bar");

bar + "1"; // -> TypeError: Trying to coerce non-coercible object
bar.toString() + 1; // -> bar1
bar === "bar"; // -> false
bar.toString() === "bar"; // -> true
bar == "bar"; // -> TypeError: Trying to coerce non-coercible object

// numbers
const baz = nonCoercible(1);

baz == 1; // -> TypeError: Trying to coerce non-coercible object
baz === 1; // -> false
baz.valueOf() === 1; // -> true
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

- [A gist by Sergey Rubanov](https://gist.github.com/chicoxyzzy/5dd24608e886adf5444499896dff1197)
- [**6.1.5.1** Well-Known Symbols](https://www.ecma-international.org/ecma-262/#sec-well-known-symbols)

## Tricky arrow functions

Consider the example below:

```js
let f = () => 10;
f(); // -> 10
```

Okay, fine, but what about this:

```js
let f = () => {};
f(); // -> undefined
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

You might expect `{}` instead of `undefined`. This is because the curly braces are part of the syntax of the arrow functions, so `f` will return undefined. It is however possible to return the `{}` object directly from an arrow function, by enclosing the return value with brackets.

```js
let f = () => ({});
f(); // -> {}
```

## Arrow functions can not be a constructor

Consider the example below:

```js
let f = function () {
  this.a = 1;
};
new f(); // -> f { 'a': 1 }
```

Now, try do to the same with an arrow function:

```js
let f = () => {
  this.a = 1;
};
new f(); // -> TypeError: f is not a constructor
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

Arrow functions cannot be used as constructors and will throw an error when used with new. Because has a lexical `this`, and do not have a `prototype` property, so it would not make much sense.

## `arguments` and arrow functions

Consider the example below:

```js
let f = function () {
  return arguments;
};
f("a"); // -> { '0': 'a' }
```

Now, try do to the same with an arrow function:

```js
let f = () => arguments;
f("a"); // -> Uncaught ReferenceError: arguments is not defined
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

Arrow functions are a lightweight version of regular functions with a focus on being short and lexical `this`. At the same time arrow functions do not provide a binding for the `arguments` object. As a valid alternative use the `rest parameters` to achieve the same result:

```js
let f = (...args) => args;
f("a");
```

- [Arrow functions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions) at MDN.

## Tricky return

`return` statement is also tricky. Consider this:

<!-- prettier-ignore-start -->
```js
(function() {
  return
  {
    b: 10;
  }
})(); // -> undefined
```
<!-- prettier-ignore-end -->

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

`return` and the returned expression must be in the same line:

```js
(function () {
  return {
    b: 10,
  };
})(); // -> { b: 10 }
```

This is because of a concept called Automatic Semicolon Insertion, which automagically inserts semicolons after most newlines. In the first example, there is a semicolon inserted between the `return` statement and the object literal, so the function returns `undefined` and the object literal is never evaluated.

- [**11.9.1** Rules of Automatic Semicolon Insertion](https://www.ecma-international.org/ecma-262/#sec-rules-of-automatic-semicolon-insertion)
- [**13.10** The `return` Statement](https://www.ecma-international.org/ecma-262/#sec-return-statement)

## Chaining assignments on object

```js
var foo = { n: 1 };
var bar = foo;

foo.x = foo = { n: 2 };

foo.x; // -> undefined
foo; // -> {n: 2}
bar; // -> {n: 1, x: {n: 2}}
```

From right to left, `{n: 2}` is assigned to foo, and the result of this assignment `{n: 2}` is assigned to foo.x, that's why bar is `{n: 1, x: {n: 2}}` as bar is a reference to foo. But why foo.x is undefined while bar.x is not ?

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

Foo and bar references the same object `{n: 1}`, and lvalues are resolved before assignations. `foo = {n: 2}` is creating a new object, and so foo is updated to reference that new object. The trick here is foo in `foo.x = ...` as a lvalue was resolved beforehand and still reference the old `foo = {n: 1}` object and update it by adding the x value. After that chain assignments, bar still reference the old foo object, but foo reference the new `{n: 2}` object, where x is not existing.

It's equivalent to:

```js
var foo = { n: 1 };
var bar = foo;

foo = { n: 2 }; // -> {n: 2}
bar.x = foo; // -> {n: 1, x: {n: 2}}
// bar.x point to the address of the new foo object
// it's not equivalent to: bar.x = {n: 2}
```

## Accessing object properties with arrays

```js
var obj = { property: 1 };
var array = ["property"];

obj[array]; // -> 1
```

What about pseudo-multidimensional arrays?

```js
var map = {};
var x = 1;
var y = 2;
var z = 3;

map[[x, y, z]] = true;
map[[x + 10, y, z]] = true;

map["1,2,3"]; // -> true
map["11,2,3"]; // -> true
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

The brackets `[]` operator converts the passed expression using `toString`. Converting a one-element array to a string is akin to converting the contained element to the string:

```js
["property"].toString(); // -> 'property'
```

## Null and Relational Operators

```js
null > 0; // false
null == 0; // false

null >= 0; // true
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

Long story short, if `null` is less than `0` is `false`, then `null >= 0` is `true`. Read in-depth –ü–æ—è—Å–Ω–µ–Ω–Ω—è for this [here](https://blog.campvanilla.com/javascript-the-curious-case-of-null-0-7b131644e274).

## `Number.toFixed()` display different numbers

`Number.toFixed()` can behave a bit strange in different browsers. Check out this example:

```js
(0.7875).toFixed(3);
// Firefox: -> 0.787
// Chrome: -> 0.787
// IE11: -> 0.788
(0.7876).toFixed(3);
// Firefox: -> 0.788
// Chrome: -> 0.788
// IE11: -> 0.788
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

While your first instinct may be that IE11 is correct and Firefox/Chrome are wrong, the reality is that Firefox/Chrome are more directly obeying standards for numbers (IEEE-754 Floating Point), while IE11 is minutely disobeying them in (what is probably) an effort to give clearer results.

You can see why this occurs with a few quick tests:

```js
// Confirm the odd result of rounding a 5 down
(0.7875).toFixed(3); // -> 0.787
// It looks like it's just a 5 when you expand to the
// limits of 64-bit (double-precision) float accuracy
(0.7875).toFixed(14); // -> 0.78750000000000
// But what if you go beyond the limit?
(0.7875).toFixed(20); // -> 0.78749999999999997780
```

Floating point numbers are not stored as a list of decimal digits internally, but through a more complicated methodology that produces tiny inaccuracies that are usually rounded away by toString and similar calls, but are actually present internally.

In this case, that "5" on the end was actually an extremely tiny fraction below a true 5. Rounding it at any reasonable length will render it as a 5... but it is actually not a 5 internally.

IE11, however, will report the value input with only zeros appended to the end even in the toFixed(20) case, as it seems to be forcibly rounding the value to reduce the troubles from hardware limits.

See for reference `NOTE 2` on the ECMA-262 definition for `toFixed`.

- [**20.1.3.3** Number.prototype.toFixed (`fractionDigits`)](https://www.ecma-international.org/ecma-262//#sec-number.prototype.tofixed)

## `Math.max()` less than `Math.min()`

```js
Math.min(1, 4, 7, 2); // -> 1
Math.max(1, 4, 7, 2); // -> 7
Math.min(); // -> Infinity
Math.max(); // -> -Infinity
Math.min() > Math.max(); // -> true
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

- [Why is Math.max() less than Math.min()?](https://charlieharvey.org.uk/page/why_math_max_is_less_than_math_min) by Charlie Harvey

## Comparing `null` to `0`

The following expressions seem to introduce a contradiction:

```js
null == 0; // -> false
null > 0; // -> false
null >= 0; // -> true
```

How can `null` be neither equal to nor greater than `0`, if `null >= 0` is actually `true`? (This also works with less than in the same way.)

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

The way these three expressions are evaluated are all different and are responsible for producing this unexpected behavior.

First, the abstract equality comparison `null == 0`. Normally, if this operator can't compare the values on either side properly, it converts both to numbers and compares the numbers. Then, you might expect the following behavior:

```js
// This is not what happens
(null == 0 + null) == +0;
0 == 0;
true;
```

However, according to a close reading of the spec, the number conversion doesn't actually happen on a side that is `null` or `undefined`. Therefore, if you have `null` on one side of the equal sign, the other side must be `null` or `undefined` for the expression to return `true`. Since this is not the case, `false` is returned.

Next, the relational comparison `null > 0`. The algorithm here, unlike that of the abstract equality operator, _will_ convert `null` to a number. Therefore, we get this behavior:

```js
null > 0 + null = +0;
0 > 0;
false;
```

Finally, the relational comparison `null >= 0`. You could argue that this expression should be the result of `null > 0 || null == 0`; if this were the case, then the above results would mean that this would also be `false`. However, the `>=` operator in fact works in a very different way, which is basically to take the opposite of the `<` operator. Because our example with the greater than operator above also holds for the less than operator, that means this expression is actually evaluated like so:

```js
null >= 0;
!(null < 0);
!(+null < +0);
!(0 < 0);
!false;
true;
```

- [**7.2.12** Abstract Relational Comparison](https://www.ecma-international.org/ecma-262/#sec-abstract-relational-comparison)
- [**7.2.13** Abstract Equality Comparison](https://www.ecma-international.org/ecma-262/#sec-abstract-equality-comparison)

## Same variable redeclaration

JS allows to redeclare variables:

```js
a;
a;
// This is also valid
a, a;
```

Works also in strict mode:

```js
var a, a, a;
var a;
var a;
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

All definitions are merged into one definition.

- [**13.3.2** Variable Statement](https://www.ecma-international.org/ecma-262/#sec-variable-statement)

## Default behavior Array.prototype.sort()

Imagine that you need to sort an array of numbers.

```
[ 10, 1, 3 ].sort() // -> [ 1, 10, 3 ]
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

The default sort order is built upon converting the elements into strings, then comparing their sequences of UTF-16 code units values.

- [**22.1.3.25** Array.prototype.sort ( comparefn )](https://www.ecma-international.org/ecma-262/#sec-array.prototype.sort)

### Hint

Pass `comparefn` if you try to sort anything but string.

```
[ 10, 1, 3 ].sort((a, b) => a - b) // -> [ 1, 3, 10 ]
```

## resolve() won't return Promise instance

```javascript
const theObject = {
  a: 7,
};
const thePromise = new Promise((resolve, reject) => {
  resolve(theObject);
}); // -> Promise instance object

thePromise.then((value) => {
  console.log(value === theObject); // -> true
  console.log(value); // -> { a: 7 }
});
```

The `value` which is resolved from `thePromise` is exactly `theObject`.

How about input another `Promise` into the `resolve` function?

```javascript
const theObject = new Promise((resolve, reject) => {
  resolve(7);
}); // -> Promise instance object
const thePromise = new Promise((resolve, reject) => {
  resolve(theObject);
}); // -> Promise instance object

thePromise.then((value) => {
  console.log(value === theObject); // -> false
  console.log(value); // -> 7
});
```

### üí° –ü–æ—è—Å–Ω–µ–Ω–Ω—è:

> This function flattens nested layers of promise-like objects (e.g. a promise that resolves to a promise that resolves to something) into a single layer.

&ndash; [Promise.resolve() on MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/resolve)

The specification is [ECMAScript 25.6.1.3.2 Promise Resolve Functions](https://tc39.es/ecma262/#sec-promise-resolve-functions). But it is not quite human-friendly.

# üìö Other resources

- [wtfjs.com](http://wtfjs.com/) ‚Äî a collection of those very special irregularities, inconsistencies and just plain painfully unintuitive moments for the language of the web.
- [Wat](https://www.destroyallsoftware.com/talks/wat) ‚Äî A lightning talk by Gary Bernhardt from CodeMash 2012
- [What the... JavaScript?](https://www.youtube.com/watch?v=2pL28CcEijU) ‚Äî Kyle Simpsons talk for Forward 2 attempts to ‚Äúpull out the crazy‚Äù from JavaScript. He wants to help you produce cleaner, more elegant, more readable code, then inspire people to contribute to the open source community.

# üéì License

[![CC 4.0][license-image]][license-url]

&copy; [Denys Dovhan](http://denysdovhan.com)

[license-url]: http://www.wtfpl.net
[license-image]: https://img.shields.io/badge/License-WTFPL%202.0-lightgrey.svg?style=flat-square
[npm-url]: https://npmjs.org/package/wtfjs
[npm-image]: https://img.shields.io/npm/v/wtfjs.svg?style=flat-square
